# 多人连续博弈模拟系统

## 项目简介

这是一个基于Python实现的多人连续博弈模拟系统。系统模拟了多个智能体（玩家）在连续策略空间中进行重复博弈的过程，每个玩家可以选择不同程度的合作或背叛策略。系统包含多种预定义的博弈策略，并通过大量模拟来评估这些策略的效果。

## 游戏规则

### 基本设置
- 每个玩家初始资产为5000
- 每轮博弈中随机选择两名玩家进行对局
- 玩家可以选择在[-1, 1]区间内的任意实数作为策略，其中：
  - 1.0 表示完全合作
  - -1.0 表示完全背叛
  - 0.0 表示中性策略

### 收益计算
- 每轮博弈的货物价值(V)在[1, 10000]区间内随机生成
- 耗损系数(d)在[0.001, 0.5]区间内随机生成
- 总收益函数：g = V * ((d + 1)/2 + (1 - d) * (x1 + x2) / 4)
- 收益分配基于玩家的策略选择
- 每轮博弈后扣除基于资产对数的费用

### 破产机制
- 当玩家总资产小于等于0时判定破产
- 破产玩家将不再参与后续博弈
- 当只剩一个玩家未破产时，该轮模拟结束

## 玩家策略

系统实现了多种经典的博弈策略：

1. **以牙还牙(TitForTat)**：初始选择合作，之后模仿对手上一轮的选择

2. **自适应背叛(AdaptiveBetrayer)**：根据对手的历史背叛程度调整自己的策略

3. **随机策略(RandomPlayer)**：在[-1, 1]区间随机选择策略

4. **永远合作(AlwaysCooperate)**：始终选择完全合作(1.0)

5. **永远背叛(AlwaysDefect)**：始终选择完全背叛(-1.0)

6. **冷酷触发(GrimTrigger)**：初始合作，一旦被背叛就永远背叛

7. **赢定输移(WinStayLoseShift)**：根据上一轮收益决定是否改变策略

8. **两报还一报(TitForTwoTats)**：仅在连续遭受两次背叛后才进行报复

9. **试探者(Prober)**：通过特定序列的策略来试探对手，并据此调整后续策略

## 运行方法

### 环境要求
- Python 3.8+
- numpy

### 运行步骤
1. 克隆项目到本地
2. 安装依赖：`pip install numpy`
3. 运行模拟：`python game.py`

### 输出说明
- 程序会输出每轮模拟中各玩家的资产状况和存活时间
- 最终会生成`survival_rounds.csv`文件，记录详细的存活数据
- 系统会计算并显示：
  - 每轮模拟的用时
  - 总模拟时间
  - 玩家的最终排名

## 项目结构

- `game.py`: 主程序文件，包含博弈规则和模拟逻辑
- `player.py`: 玩家类定义文件，包含各种博弈策略的实现
- `survival_rounds.csv`: 模拟结果输出文件

## 待实现功能

- [ ] 打听机制
- [ ] 并行计算
- [ ] 拒绝博弈机制

## 参考文献

项目的理论基础来自以下研究：
- 基于可信度的多次重复博弈研究
- 基于证据理论的多Agent重复囚徒困境博弈研究
- 基于连续混合策略对长期蜈蚣博弈的分析
- 有限理性假设下供应链合作博弈的定性模拟研究